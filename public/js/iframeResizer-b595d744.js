!function(){"use strict";function e(e,n,i){"addEventListener"in window?e.addEventListener(n,i,!1):"attachEvent"in window&&e.attachEvent("on"+n,i)}function n(){var e,n=["moz","webkit","o","ms"];for(e=0;e<n.length&&!x;e+=1)x=window[n[e]+"RequestAnimationFrame"];x||i(" RequestAnimationFrame not supported")}function i(e){C.log&&"object"==typeof console&&console.log(w+"[Host page"+v+"]"+e)}function t(e){function n(){function e(){c(E),r(),C.resizedCallback(E)}s(e,E,"resetPage")}function t(e){var n=e.id;i(" Removing iFrame: "+n),e.parentNode.removeChild(e),C.closedCallback(n),i(" --")}function o(){var e=M.substr(y).split(":");return{iframe:document.getElementById(e[0]),id:e[0],height:e[1],width:e[2],type:e[3]}}function l(e){var n=Number(C["max"+e]),t=Number(C["min"+e]),o=e.toLowerCase(),r=Number(E[o]);if(t>n)throw new Error("Value for min"+e+" can not be greater than max"+e);i(" Checking "+o+" is in range "+t+"-"+n),t>r&&(r=t,i(" Set "+o+" to min value")),r>n&&(r=n,i(" Set "+o+" to max value")),E[o]=""+r}function d(){var n=e.origin,t=E.iframe.src.split("/").slice(0,3).join("/");if(C.checkOrigin&&(i(" Checking connection is from: "+t),""+n!="null"&&n!==t))throw new Error("Unexpected message received from: "+n+" for "+E.iframe.id+". Message was: "+e.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function f(){return w===(""+M).substr(0,y)}function u(){var e=E.type in{"true":1,"false":1};return e&&i(" Ignoring init message from meta parent page"),e}function m(){var e=M.substr(M.indexOf(":")+p+6);i(" MessageCallback passed: {iframe: "+E.iframe.id+", message: "+e+"}"),C.messageCallback({iframe:E.iframe,message:e}),i(" --")}function g(){if(null===E.iframe)throw new Error("iFrame ("+E.id+") does not exist on "+v);return!0}function b(){i(" Reposition requested from iFrame"),k={x:E.width,y:E.height},r()}function x(){switch(E.type){case"close":t(E.iframe),C.resizedCallback(E);break;case"message":m();break;case"scrollTo":b();break;case"reset":a(E);break;case"init":n(),C.initCallback(E.iframe);break;default:n()}}var M=e.data,E={};f()&&(i(" Received: "+M),E=o(),l("Height"),l("Width"),!u()&&g()&&d()&&(x(),h=!1))}function o(){null===k&&(k={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},i(" Get position: "+k.x+","+k.y))}function r(){null!==k&&(window.scrollTo(k.x,k.y),i(" Set position: "+k.x+","+k.y),k=null)}function a(e){function n(){c(e),l("reset","reset",e.iframe)}i(" Size reset requested by "+("init"===e.type?"host page":"iFrame")),o(),s(n,e,"init")}function c(e){function n(n){e.iframe.style[n]=e[n]+"px",i(" IFrame ("+e.iframe.id+") "+n+" set to "+e[n]+"px")}C.sizeHeight&&n("height"),C.sizeWidth&&n("width")}function s(e,n,t){t!==n.type&&x?(i(" Requesting animation frame"),x(e)):e()}function l(e,n,t){i("["+e+"] Sending msg to iframe ("+n+")"),t.contentWindow.postMessage(w+n,"*")}function d(){function n(){function e(e){1/0!==C[e]&&0!==C[e]&&(d.style[e]=C[e]+"px",i(" Set "+e+" = "+C[e]+"px"))}e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}function t(e){return""===e&&(d.id=e="iFrameResizer"+g++,i(" Added missing iframe ID: "+e+" ("+d.src+")")),e}function o(){i(" IFrame scrolling "+(C.scrolling?"enabled":"disabled")+" for "+f),d.style.overflow=!1===C.scrolling?"hidden":"auto",d.scrolling=!1===C.scrolling?"no":"yes"}function r(){("number"==typeof C.bodyMargin||"0"===C.bodyMargin)&&(C.bodyMarginV1=C.bodyMargin,C.bodyMargin=""+C.bodyMargin+"px")}function c(){return f+":"+C.bodyMarginV1+":"+C.sizeWidth+":"+C.log+":"+C.interval+":"+C.enablePublicMethods+":"+C.autoResize+":"+C.bodyMargin+":"+C.heightCalculationMethod+":"+C.bodyBackground+":"+C.bodyPadding+":"+C.tolerance}function s(n){e(d,"load",function(){var e=h;l("iFrame.onload",n,d),!e&&C.heightCalculationMethod in M&&a({iframe:d,height:0,width:0,type:"init"})}),l("init",n,d)}var d=this,f=t(d.id);o(),n(),r(),s(c())}function f(e){if("object"!=typeof e)throw new TypeError("Options is not an object.")}function u(){function e(e){if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">.");d.call(e)}function n(e){e=e||{},f(e);for(var n in E)E.hasOwnProperty(n)&&(C[n]=e.hasOwnProperty(n)?e[n]:E[n])}return function(i,t){n(i),Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),e)}}function m(e){e.fn.iFrameResize=function(n){return n=n||{},f(n),C=e.extend({},E,n),this.filter("iframe").each(d).end()}}var g=0,h=!0,b="message",p=b.length,w="[iFrameSizer]",y=w.length,v="",k=null,x=window.requestAnimationFrame,M={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},C={},E={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}};n(),e(window,"message",t),"jQuery"in window&&m(jQuery),"function"==typeof define&&define.amd?define(function(){return u()}):window.iFrameResize=u()}();