!function e(t,a,n){function s(r,o){if(!a[r]){if(!t[r]){var c="function"==typeof require&&require;if(!o&&c)return c(r,!0);if(i)return i(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=a[r]={exports:{}};t[r][0].call(d.exports,function(e){var a=t[r][1][e];return s(a?a:e)},d,d.exports,e,t,a,n)}return a[r].exports}for(var i="function"==typeof require&&require,r=0;r<n.length;r++)s(n[r]);return s}({1:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var s=function i(){n(this,i),$(document).on("click",".download-paper",function(){var e=$(this).attr("data-name");return _paq.push(["trackEvent","Text","Downloaded",e])}).on("click",".download-further-literature",function(){var e=$(this).attr("data-name");return _paq.push(["trackEvent","Weiterführende Literaturhinweise","Downloaded",e])}).on("click",".download-info",function(){var e=$(this).attr("data-name");return _paq.push(["trackEvent","Informationsdokument","Downloaded",e])}).on("click",".download-note",function(){var e=$(this).attr("data-name");return _paq.push(["trackEvent","Notizen","Downloaded",e])})};a["default"]=s,t.exports=a["default"]},{}],2:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("./InteractiveVideoNotes.jsx"),i=n(s),r=React.createClass({displayName:"InteractiveVideo",getInitialState:function(){return{}},componentDidMount:function(){var e=this;$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}});var t,a;a=document.createElement("div"),a.innerHTML="<video id='videoplayer' class='video-js vjs-sublime-skin vjs-big-play-centered' poster='"+this.props.poster.toString()+"'><source type='video/mp4' src='"+this.props.path.toString()+".mp4' /><source type='video/webm' src='"+this.props.path.toString()+".webm' /></video>",t=a.firstChild,this.refs.videoTarget.getDOMNode().appendChild(t);{var n=this.props.name.toString();videojs("videoplayer",{controls:!0,autoplay:!1,preload:"auto",width:"100%",height:"100%",plugins:{markers:{markerTip:{display:!0,text:function(e){return e.text}},markers:JSON.parse(this.props.markers)}}}).ready(function(){this.one("loadeddata",function(){for(var t=$(".vjs-marker").length,a=0;t>=a;a++)$(".vjs-marker:nth-child("+(2+a)+")").attr("id","marker-"+a);$(".vjs-marker").on("click touchstart",function(){$(".vjs-marker").removeClass("active-marker"),$(this).addClass("active-marker"),$("#note-content").attr("disabled",!1);var t=$(this).attr("id").replace("marker-","");_paq.push(["trackEvent","Video","Zu Fähnchen gesprungen",n+": Fähnchen "+t]),e.loadNotesFromServer(t),e.updateNotesAtServer(t,n)})}).on("play",function(){return _paq.push(["trackEvent","Video","Abgespielt",n])}).on("pause",function(){return _paq.push(["trackEvent","Video","Pausiert",n])}).on("ended",function(){return _paq.push(["trackEvent","Video","Komplett angesehen",n])}).on("fullscreenchange",function(){return _paq.push(["trackEvent","Video","Vollbildmodus",n])}).on("error",function(){return _paq.push(["trackEvent","Video","Fehler",n])}).on("seeking",function(){return _paq.push(["trackEvent","Video","Springen",n])}).on("durationchange",function(){return _paq.push(["trackEvent","Video","Geschwindigkeit verändert",n])})})}},loadNotesFromServer:function(e){$("#notes-progress").removeClass("disabled"),$("#notes-form").addClass("loading"),$.get(document.URL+"/getnotes/",{cuepointNumber:e}).done(function(e){$("#note-content").val(e),$("#notes-progress").addClass("disabled"),$("#notes-form").removeClass("loading")}).fail(function(){console.error("Problem loading notes from server!")})},updateNotesAtServer:function(e,t){$("#note-content").off(),$("#note-content").typeWatch({callback:function(){$("#notes-progress").removeClass("disabled");var a=$("#note-content").val();""===a&&(a="[#empty#]"),$.post(document.URL+"/postnotes",{note:a,cuepointNumber:e}).done(function(){$("#notes-progress").addClass("disabled"),_paq.push(["trackEvent","Notiz","verändert",t+": Fähnchen "+e])}).fail(function(){console.error("Problem updating "+t+" note "+e)})},wait:500,highlight:!1,captureLength:0})},render:function(){return React.createElement("div",null,React.createElement("div",{ref:"videoTarget"}),React.createElement("img",{src:"/img/etpm_logo.png"}),React.createElement(i["default"],null))}});a["default"]=r,t.exports=a["default"]},{"./InteractiveVideoNotes.jsx":3}],3:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=React.createClass({displayName:"InteractiveVideoNotes",componentDidMount:function(){$("#notes-progress").progress()},render:function(){return React.createElement("section",{id:"video-notes"},React.createElement("header",null,React.createElement("h3",{className:"hide"},"Notizen")),React.createElement("form",{id:"notes-form",className:"ui form"},React.createElement("div",{className:"field"},React.createElement("label",{htmlFor:"note-content",className:"hide"},"Notizen"),React.createElement("textarea",{disabled:"disabled",id:"note-content",placeholder:"Wählen Sie ein »Fähnchen« und geben Sie Ihre Notizen ein.",maxLength:"500",ref:"textarea"}))),React.createElement("div",{id:"notes-progress",className:"ui disabled bottom attached green indicating progress","data-percent":"100"},React.createElement("div",{className:"bar"})))}});a["default"]=n,t.exports=a["default"]},{}],4:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=React.createClass({displayName:"Message",deleteMessage:function(){this.props.onDeleteMessage({id:this.props.id})},editMessage:function(){this.props.onEditMessage({id:this.props.id,title:this.props.title,content:this.props.content,colour:this.props.colour})},render:function(){var e="ui "+this.props.colour+" message";return React.createElement("div",{className:"message"},React.createElement("div",{className:e},React.createElement("i",{className:"close icon",onClick:this.deleteMessage}),React.createElement("i",{className:"edit icon",onClick:this.editMessage}),React.createElement("div",{className:"header"},this.props.title),this.props.content))}});a["default"]=n,t.exports=a["default"]},{}],5:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("./MessageList.jsx"),i=n(s),r=e("./MessageForm.jsx"),o=n(r),c=React.createClass({displayName:"MessageBox",getInitialState:function(){return{data:[],latestMessageID:1,modalType:"default",editData:[]}},loadMessagesFromServer:function(){$.ajax({url:this.props.url,dataType:"json",success:function(e){var t=1;Object.keys(e).length>0&&(t=e[Object.keys(e).length-1].id+1),this.setState({data:e,latestMessageID:t})}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},createNewMessageOnServer:function(e){if("default"===this.state.modalType){var t=this.state.data,a=t.concat([e]);this.setState({data:a}),$.ajax({url:this.props.url,type:"POST",dataType:"json",data:e,success:function(e){this.loadMessagesFromServer()}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})}else{var n=e.id;delete e.id,$.ajax({url:this.props.url+"/"+n,type:"PUT",dataType:"json",data:e,success:function(e){this.loadMessagesFromServer()}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})}this.setState({modalType:"default"})},deleteMessageFromServer:function(e){var t=this.state.data,a=$.grep(t,function(t){return t.id!=e.id});this.setState({data:a}),$.ajax({url:this.props.url+"/"+e.id,type:"POST",data:{_method:"delete"},success:function(e){this.loadMessagesFromServer()}.bind(this),error:function(e,t,a){console.error(this.props.url,t,a.toString())}.bind(this)})},handleEditMessageForm:function(e){console.log("edit"),this.setState({modalType:"edit",editData:e})},handleCloseModal:function(e){this.setState({modalType:e,editData:[]})},componentDidMount:function(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),this.loadMessagesFromServer(),setInterval(this.loadMessagesFromServer,this.props.pollInterval)},render:function(){return React.createElement("div",{className:"message-box"},React.createElement("h1",{className:"hide"},"Nachrichten"),React.createElement(i["default"],{data:this.state.data,submitDeleteMessage:this.deleteMessageFromServer,openEditMessageForm:this.handleEditMessageForm}),React.createElement(o["default"],{onSubmitNewMessage:this.createNewMessageOnServer,onCloseModal:this.handleCloseModal,modalType:this.state.modalType,editData:this.state.editData,latestMessageID:this.state.latestMessageID}))}});a["default"]=c,t.exports=a["default"]},{"./MessageForm.jsx":6,"./MessageList.jsx":7}],6:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=React.createClass({displayName:"MessageForm",getInitialState:function(){return{title:"",content:"",colour:"default",stopUpdate:"no"}},componentDidMount:function(){var e=this;$("#new-message").modal({detachable:!1,transition:"vertical flip",closable:!1,onHidden:function(){$(".ui.form").form("reset")}}),$(".ui.radio.checkbox").checkbox({onChecked:function(){e.updateMessage(),$(this).prop("checked",!0);var t=$(this).val();e.setState({colour:t})}}),$(".ui.form").form({title:{identifier:"title",rules:[{type:"empty",prompt:"Bitte geben Sie einen Titel ein."}]},content:{identifier:"content",rules:[{type:"empty",prompt:"Bitte geben Sie eine Nachricht ein."}]}},{inline:!0,on:"blur",onSuccess:function(){this.handleSubmit(),this.closeModal()}.bind(this)}).submit(function(e){return e.preventDefault()})},componentWillReceiveProps:function(e){"edit"===e.modalType&&this.setState({title:e.editData.message.title,content:e.editData.message.content,colour:e.editData.message.colour})},componentDidUpdate:function(){"edit"===this.props.modalType&&"no"===this.state.stopUpdate&&($("input[name='title']").val(this.state.title),$("textarea[name='content']").val(this.state.content),$("input[value='"+this.state.colour+"']").prop("checked",!0),this.openModal())},updateMessage:function(){var e=React.findDOMNode(this.refs.title).value.trim(),t=React.findDOMNode(this.refs.content).value.trim();this.setState({title:e,content:t})},openModal:function(){this.setState({stopUpdate:"yes"}),$("#new-message").modal("show")},closeModal:function(){$("#new-message").modal("hide"),this.setState({stopUpdate:"no"}),this.props.onCloseModal("default")},handleSubmit:function(){this.updateMessage();var e=this.props.latestMessageID;"edit"===this.props.modalType&&(e=this.props.editData.message.id),this.props.onSubmitNewMessage({id:e,title:this.state.title,content:this.state.content,colour:this.state.colour}),this.setState(this.getInitialState())},render:function(){return React.createElement("div",{className:"message-form"},React.createElement("div",{className:"new-message ui bottom attached teal button",onClick:this.openModal},"Neue Nachricht erstellen"),React.createElement("div",{id:"new-message",className:"ui modal"},React.createElement("div",{className:"header"},"Neue Nachricht"),React.createElement("div",{className:"content"},React.createElement("form",{className:"ui form"},React.createElement("div",{className:"required field"},React.createElement("label",{htmlFor:"title",className:"hide"},"Titel"),React.createElement("input",{name:"title",placeholder:"Titel eingeben.",ref:"title",type:"text"})),React.createElement("div",{className:"required field"},React.createElement("label",{htmlFor:"content",className:"hide"},"Inhalt"),React.createElement("textarea",{name:"content",placeholder:"Nachricht eingeben.",maxLength:"500",ref:"content"})),React.createElement("div",{className:"inline fields",ref:"colour"},React.createElement("label",{htmlFor:"colour"},"Hintergrundfarbe wählen:"),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"black"}),React.createElement("label",null,"Schwarz"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"yellow"}),React.createElement("label",null,"Gelb"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"green"}),React.createElement("label",null,"Grün"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"blue"}),React.createElement("label",null,"Blau"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"orange"}),React.createElement("label",null,"Orange"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"purple"}),React.createElement("label",null,"Violett"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"pink"}),React.createElement("label",null,"Pink"))),React.createElement("div",{className:"field"},React.createElement("div",{className:"ui radio checkbox"},React.createElement("input",{name:"colour",type:"radio",value:"red"}),React.createElement("label",null,"Rot")))),React.createElement("div",{className:"buttons"},React.createElement("div",{className:"ui black reset button",onClick:this.closeModal},"Abbrechen"),React.createElement("div",{className:"ui positive right labeled submit icon button"},"Erstellen",React.createElement("i",{className:"checkmark icon"})))))))}});a["default"]=n,t.exports=a["default"]},{}],7:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(a,"__esModule",{value:!0});var s=e("./Message.jsx"),i=n(s),r=React.createClass({displayName:"MessageList",handleDeleteMessage:function(e){this.props.submitDeleteMessage({id:e.id})},handleEditMessage:function(e){this.props.openEditMessageForm({message:e})},render:function(){var e=$.map(this.props.data,function(e,t){return React.createElement(i["default"],{key:e.id,id:e.id,title:e.title,content:e.content,colour:e.colour,onDeleteMessage:this.handleDeleteMessage,onEditMessage:this.handleEditMessage})}.bind(this));return React.createElement("div",{className:"message-list"},React.createElement("div",{className:"ui top attached segment"},e))}});a["default"]=r,t.exports=a["default"]},{"./Message.jsx":4}],8:[function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(a,"__esModule",{value:!0});var s=function i(){n(this,i),$(".scale").transition("scale in",1e3),$(".shake").transition("shake"),$(".ui.checkbox").checkbox(),$(".dropdown").dropdown({transition:"drop"}),$(".ui.accordion").accordion(),$("#faq-accordion").accordion({selector:{trigger:".trigger.column"}}),$(".ui.message.shake").transition("shake"),$("#edit-faq").modal("setting","transition","vertical flip").modal("attach events","#edit-faq-button","show"),$("#edit-lection").modal("setting","transition","vertical flip").modal("attach events","td.edit > div.ui.button","show"),$("td.edit > div.ui.button").click(function(){var e=$(this).attr("data-name");$("#edit-lection-name").attr("placeholder",e);var t=$(this).attr("data-lecturer");$("#edit-lection-lecturer").attr("placeholder",t);var a=$(this).attr("data-section");$("#edit-lection-section").attr("placeholder",a);var n=$(this).attr("data-lection-available");$("#edit-lection-available").val(n)}),$("#submenu").click(function(){$("#subnav").toggle("slow")})};a["default"]=s,t.exports=a["default"]},{}],9:[function(e,t,a){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=React.createClass({displayName:"SemanticTest",componentDidMount:function(){$("#new-message").modal("setting","transition","vertical flip").modal("attach events",".new-message.button","show")},render:function(){return React.createElement("div",null,React.createElement("div",{className:"ui top attached segment"},React.createElement("div",{className:"ui warning message"},React.createElement("i",{className:"close icon"}),React.createElement("div",{className:"header"},"You must register before you can do that!"),"Visit our registration page, then try again"),React.createElement("div",{className:"ui divider"}),React.createElement("div",{className:"ui info message"},React.createElement("i",{className:"close icon"}),React.createElement("div",{className:"header"},"You must register before you can do that!"),"Visit our registration page, then try again")),React.createElement("div",{className:"new-message ui bottom attached blue button"},"Neue Nachricht erstellen"),"// @todo: Eigene Komponente inkl. AJAX Abfragen (CSRF Token über die Meta-Tag Idee).",React.createElement("div",{id:"new-message",className:"ui modal"},React.createElement("div",{className:"header"},"Neue Nachricht"),React.createElement("div",{className:"content"},React.createElement("div",{className:"ui medium image"},React.createElement("img",{src:"/images/avatar/large/chris.jpg"})),React.createElement("div",{className:"description"},React.createElement("div",{className:"ui header"},"We've auto-chosen a profile image for you."),React.createElement("p",null,"We've grabbed the following image from the ",React.createElement("a",{href:"https://www.gravatar.com",target:"_blank"},"gravatar")," image associated with your registered e-mail address."),React.createElement("p",null,"Is it okay to use this photo?"))),React.createElement("div",{className:"actions"},React.createElement("div",{className:"ui black button"},"Abbrechen"),React.createElement("div",{className:"ui positive right labeled icon button"},"Erstellen",React.createElement("i",{className:"checkmark icon"})))))}});a["default"]=n,t.exports=a["default"]},{}],10:[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var s=e("./Components/Analytics.js"),i=n(s),r=e("./Components/SemanticAnimations.js"),o=n(r),c=e("./Components/MessageBox.jsx"),l=n(c),d=e("./Components/InteractiveVideo.jsx"),u=n(d),m=e("./Components/Statistic.jsx"),p=n(m);$(document).ready(function(){if(videojs.options.flash.swf="/video-js.swf",new i["default"],new o["default"],$("#interactive-video").length){var e=$("#interactive-video").attr("data-name"),t=$("#interactive-video").attr("data-path"),a=$("#interactive-video").attr("data-markers"),n=$("#interactive-video").attr("data-poster");React.render(React.createElement(u["default"],{name:e,path:t,markers:a,poster:n}),document.getElementById("interactive-video"))}if($("#messages-manage").length){var s=$("#messages-manage").attr("data-url"),r=$("#messages-manage").attr("data-poll-interval");React.render(React.createElement(l["default"],{url:s,pollInterval:r}),document.getElementById("messages-manage"))}$("#statistic-plays").length&&React.render(React.createElement(p["default"],null),document.getElementById("statistic-plays"))})},{"./Components/Analytics.js":1,"./Components/InteractiveVideo.jsx":2,"./Components/MessageBox.jsx":5,"./Components/SemanticAnimations.js":8,"./Components/Statistic.jsx":9}]},{},[10]);